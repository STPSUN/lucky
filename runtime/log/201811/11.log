---------------------------------------------------------------
[ 2018-11-11T00:25:34+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.057579s][吞吐率：17.37req/s] [内存消耗：3,389.29kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003632s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000807s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000968s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000400s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:34+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.073836s][吞吐率：13.54req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003951s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000446s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000563s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000951s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000486s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000789s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000704s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000530s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000626s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000686s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000578s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000772s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000599s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:37+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.051628s][吞吐率：19.37req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003300s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000775s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000772s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000498s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:37+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.066940s][吞吐率：14.94req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003140s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000788s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000777s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000637s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000479s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000835s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000679s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000609s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000757s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000814s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000506s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000792s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000457s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:39+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040125s][吞吐率：24.92req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002616s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000521s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000714s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000379s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:39+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049384s][吞吐率：20.25req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002448s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000403s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000558s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000577s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000577s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000357s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000265s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000306s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000373s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000491s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000244s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:42+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.046786s][吞吐率：21.37req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003100s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000551s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000654s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000383s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:42+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.063681s][吞吐率：15.70req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003400s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000479s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000713s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000629s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000715s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000647s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000544s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000364s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000482s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001074s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000908s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000500s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:44+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040773s][吞吐率：24.53req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002643s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000559s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000662s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000345s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:44+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050599s][吞吐率：19.76req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002604s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000327s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000469s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000330s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000652s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000414s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000305s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000503s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000254s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000543s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000297s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:47+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.056408s][吞吐率：17.73req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004027s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000682s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000678s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000720s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:47+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.077478s][吞吐率：12.91req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.006691s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000849s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000786s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.001227s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000598s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000586s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001024s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000634s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000630s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000712s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000470s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001034s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000377s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:49+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040055s][吞吐率：24.97req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002640s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000531s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000695s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000436s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:49+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048748s][吞吐率：20.51req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002596s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000467s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000546s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000371s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000665s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000424s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000266s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000325s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000464s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000251s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000456s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000264s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:52+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.058520s][吞吐率：17.09req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004538s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000830s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001092s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000623s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:52+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.076067s][吞吐率：13.15req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003812s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000512s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001055s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000606s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000329s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001085s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000769s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000492s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000599s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000776s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000535s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000726s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000441s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:54+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.059184s][吞吐率：16.90req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003873s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000699s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000883s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000637s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:54+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.077341s][吞吐率：12.93req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004177s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000390s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000870s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000612s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000508s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001028s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000887s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000663s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000642s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000955s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000603s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000793s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000441s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:57+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.046120s][吞吐率：21.68req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003399s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000508s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000558s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000344s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:57+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.062953s][吞吐率：15.88req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002738s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000465s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000633s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000715s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000328s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000746s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000733s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000487s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000654s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000624s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000560s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000608s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000450s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:59+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040785s][吞吐率：24.52req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002778s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000484s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000639s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000365s ]
---------------------------------------------------------------
[ 2018-11-11T00:25:59+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.051541s][吞吐率：19.40req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002690s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000395s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000548s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000563s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000322s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000499s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000370s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000258s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000356s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000443s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000382s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000485s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000266s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:02+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.049352s][吞吐率：20.26req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003308s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000687s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000621s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000557s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:02+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.065212s][吞吐率：15.33req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003948s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000596s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000720s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000642s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000395s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000624s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000588s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000590s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000619s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000937s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000490s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000599s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000376s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:04+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.054222s][吞吐率：18.44req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003578s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000604s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000720s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000723s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:04+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.070785s][吞吐率：14.13req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003609s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000487s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000907s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000838s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000580s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000941s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000891s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000726s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000363s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001039s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000559s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001050s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000450s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:07+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.045990s][吞吐率：21.74req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002799s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000738s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000926s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000497s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:07+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.059796s][吞吐率：16.72req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003224s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000435s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000488s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000627s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000615s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000833s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000519s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000462s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000507s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000674s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000391s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000711s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000435s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:09+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039462s][吞吐率：25.34req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002619s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000527s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000695s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000401s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:09+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048314s][吞吐率：20.70req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002580s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000397s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000542s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000490s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000359s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000522s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000416s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000291s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000451s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000276s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000530s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000259s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:12+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.042209s][吞吐率：23.69req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002448s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000483s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000698s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000381s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:12+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.057975s][吞吐率：17.25req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002943s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000550s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000671s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000716s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000482s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000780s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000626s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000327s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000441s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000563s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000373s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000507s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000290s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:14+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.044288s][吞吐率：22.58req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002790s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000692s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000672s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000588s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:14+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.058707s][吞吐率：17.03req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003076s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000519s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000733s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000613s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000345s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000602s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000738s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000398s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000503s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000708s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000504s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000796s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000309s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:17+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039419s][吞吐率：25.37req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002630s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000504s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000712s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000362s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:17+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048546s][吞吐率：20.60req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002602s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000405s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000479s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000371s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000492s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000383s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000333s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000353s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000525s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000287s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000604s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000292s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:19+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.056979s][吞吐率：17.55req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004427s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001064s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001298s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000356s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:19+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.069661s][吞吐率：14.36req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003371s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000742s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001196s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000569s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000353s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000695s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000765s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000646s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000628s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000805s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000422s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000649s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000450s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:22+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040452s][吞吐率：24.72req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002633s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000514s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000667s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000350s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:22+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049498s][吞吐率：20.20req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002595s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000365s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000513s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000359s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000574s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000447s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000324s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000320s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000449s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000249s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000432s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000234s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:24+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039579s][吞吐率：25.27req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002636s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000511s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000686s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000375s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:24+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.047994s][吞吐率：20.84req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002579s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000412s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000505s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000535s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000381s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000502s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000365s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000265s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000378s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000423s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000289s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000422s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000224s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:27+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.052696s][吞吐率：18.98req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003796s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000726s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000797s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000433s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:27+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.067805s][吞吐率：14.75req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004024s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000650s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000829s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000711s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000320s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000646s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000757s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000620s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000571s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000984s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000459s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000809s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000674s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:29+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.048593s][吞吐率：20.58req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002861s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000678s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000398s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:29+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.062386s][吞吐率：16.03req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003167s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000655s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000784s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000562s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000378s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000548s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000472s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000324s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000506s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000644s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000406s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000912s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000541s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:32+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041149s][吞吐率：24.30req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002878s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000429s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000531s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000326s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:32+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050507s][吞吐率：19.80req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002864s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000387s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000548s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000355s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000536s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000360s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000289s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000485s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000260s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000470s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000322s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:34+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040925s][吞吐率：24.43req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003152s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000455s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000505s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000313s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:34+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049435s][吞吐率：20.23req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002829s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000319s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000422s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000450s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000424s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000603s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000415s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000270s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000273s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000417s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000253s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000410s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000238s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:37+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.056358s][吞吐率：17.74req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003630s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000555s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000869s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000334s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:37+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.077081s][吞吐率：12.97req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004016s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000610s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000762s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000776s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000867s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000879s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000635s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000538s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000589s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001169s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000537s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000612s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:39+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.051472s][吞吐率：19.43req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003078s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000551s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000770s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000561s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:39+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.070653s][吞吐率：14.15req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003334s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000479s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000984s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000611s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000453s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000955s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000647s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000508s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000619s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000722s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000502s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000946s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000639s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:42+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040087s][吞吐率：24.95req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002702s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000512s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000698s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000481s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:42+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049235s][吞吐率：20.31req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002598s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000358s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000524s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000501s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000310s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000589s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000413s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000323s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000382s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000537s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000348s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000468s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000258s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:44+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.060318s][吞吐率：16.58req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004284s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000763s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000910s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000537s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:44+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.075260s][吞吐率：13.29req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004019s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000774s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000870s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000780s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000393s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001100s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000730s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000456s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000628s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000612s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000838s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000521s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:47+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.050452s][吞吐率：19.82req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003172s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000565s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000661s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000452s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:47+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.066849s][吞吐率：14.96req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003631s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000659s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000711s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000592s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000513s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000885s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000608s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000620s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000572s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000787s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000449s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000653s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000418s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:49+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.057515s][吞吐率：17.39req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003751s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000618s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000778s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000530s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:49+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.078711s][吞吐率：12.70req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003737s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000565s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001041s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000935s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000720s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000590s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000817s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000648s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000856s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000721s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000705s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000874s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000713s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:52+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.038785s][吞吐率：25.78req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002611s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000456s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000741s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000470s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:52+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.047833s][吞吐率：20.91req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002588s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000405s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000494s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000441s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000568s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000410s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000277s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000314s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000497s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000296s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000488s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000240s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:54+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.063768s][吞吐率：15.68req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004117s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000609s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000922s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000537s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:54+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.080431s][吞吐率：12.43req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003927s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000634s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000725s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000906s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000387s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000753s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000887s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000846s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000599s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001226s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000846s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000453s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:57+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039590s][吞吐率：25.26req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002683s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000536s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000700s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000426s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:57+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048040s][吞吐率：20.82req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002596s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000458s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000491s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000485s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000573s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000444s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000263s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000477s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000263s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000464s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000292s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:59+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.051149s][吞吐率：19.55req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002848s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000615s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000612s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000415s ]
---------------------------------------------------------------
[ 2018-11-11T00:26:59+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.068881s][吞吐率：14.52req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003329s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000402s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000588s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000685s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000532s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000723s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000892s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000455s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000606s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000677s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000503s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001150s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000523s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:02+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.048525s][吞吐率：20.61req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003326s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000640s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000619s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000474s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:02+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.065041s][吞吐率：15.37req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003698s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000541s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000789s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000535s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000580s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000855s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000646s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000513s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000480s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000955s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000403s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000805s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000405s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:04+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.048267s][吞吐率：20.72req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003542s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000651s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000842s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000472s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:04+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.061233s][吞吐率：16.33req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003914s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000473s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000690s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000698s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000444s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000630s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000583s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000442s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000413s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000693s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000681s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000358s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:07+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.042867s][吞吐率：23.33req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002784s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000494s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000582s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000474s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:07+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.051541s][吞吐率：19.40req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002533s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000378s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000668s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000453s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000423s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000648s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000427s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000310s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000488s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000254s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000480s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000265s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:09+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.050584s][吞吐率：19.77req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002831s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000715s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000801s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000373s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:09+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.065632s][吞吐率：15.24req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002876s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000393s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000783s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000687s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000455s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001110s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000484s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000575s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000382s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000611s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000446s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000865s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000348s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:12+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.045971s][吞吐率：21.75req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002820s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000702s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000842s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000695s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:12+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.057897s][吞吐率：17.27req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002801s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000451s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000721s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000783s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000347s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000899s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000534s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000427s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000544s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000462s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000413s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000781s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000273s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:14+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040523s][吞吐率：24.68req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002641s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000527s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000677s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000346s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:14+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049418s][吞吐率：20.24req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002596s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000399s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000549s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000386s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000615s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000395s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000261s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000301s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000473s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000283s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000311s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:17+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039497s][吞吐率：25.32req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002814s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000551s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000694s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000412s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:17+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049853s][吞吐率：20.06req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002795s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000437s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000560s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000530s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000373s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000294s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000343s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000452s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000273s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000479s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000294s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:19+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.058223s][吞吐率：17.18req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003555s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000497s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000661s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000726s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:19+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.072992s][吞吐率：13.70req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003408s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000480s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001070s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000710s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000360s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001099s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000763s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000533s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000659s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000897s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000602s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000693s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:22+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.054302s][吞吐率：18.42req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004869s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000467s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000624s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000566s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:22+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.068088s][吞吐率：14.69req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003620s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000398s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000582s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000700s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000491s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000781s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000635s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000413s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000599s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000457s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000385s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000495s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:24+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.046250s][吞吐率：21.62req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002534s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000537s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000796s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000481s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:24+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.056889s][吞吐率：17.58req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003030s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000532s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000494s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000807s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000308s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000885s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000497s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000447s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000633s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000607s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000413s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000515s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000492s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:27+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041232s][吞吐率：24.25req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002632s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000557s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000698s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000470s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:27+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050010s][吞吐率：20.00req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002597s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000355s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000573s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000346s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000540s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000472s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000316s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000373s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000469s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000480s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000243s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:29+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.051450s][吞吐率：19.44req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003473s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000742s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000798s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000562s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:29+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.067518s][吞吐率：14.81req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003426s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000552s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000610s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000653s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000491s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000777s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000855s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000498s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000560s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000727s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.001747s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000518s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000239s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:32+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039676s][吞吐率：25.20req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002662s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000514s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000682s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000319s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:32+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048683s][吞吐率：20.54req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002614s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000393s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000467s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000405s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000668s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000411s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000314s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000302s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000474s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000296s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000487s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000266s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:34+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.044580s][吞吐率：22.43req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002971s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000512s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000805s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000427s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:34+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.062693s][吞吐率：15.95req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003029s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000548s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000571s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000678s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000392s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000747s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001167s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000809s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000533s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000901s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000481s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000727s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000366s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:37+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041247s][吞吐率：24.24req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002779s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000396s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000274s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:37+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.052569s][吞吐率：19.02req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002772s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000361s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000714s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000618s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000468s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000481s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000384s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000317s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000359s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000537s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000447s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000498s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000336s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:39+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.059927s][吞吐率：16.69req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004113s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000730s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001103s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000615s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:39+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.074293s][吞吐率：13.46req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003937s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000697s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000675s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000612s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000936s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000828s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000597s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000581s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000917s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000385s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001275s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000778s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:42+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040490s][吞吐率：24.70req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002640s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000556s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000715s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000370s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:42+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049533s][吞吐率：20.19req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002607s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000426s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000642s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000447s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000310s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000523s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000471s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000325s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000290s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000496s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000268s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000257s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:44+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.060481s][吞吐率：16.53req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004273s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000557s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000860s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000514s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:44+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.076889s][吞吐率：13.01req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004076s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000394s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000663s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000666s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000657s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000982s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001039s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000559s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000591s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000839s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000492s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000961s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000721s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:47+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040096s][吞吐率：24.94req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002720s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000526s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000725s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000429s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:47+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049394s][吞吐率：20.25req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002625s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000415s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000513s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000495s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000371s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000557s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000386s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000310s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000353s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000472s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000244s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000466s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000295s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:49+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.058719s][吞吐率：17.03req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003742s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000690s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000997s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000862s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:49+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.073133s][吞吐率：13.67req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003584s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000788s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000766s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.001067s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001008s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000967s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000480s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000664s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000944s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000571s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000848s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000576s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:52+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039775s][吞吐率：25.14req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002644s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000511s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000747s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000380s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:52+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049243s][吞吐率：20.31req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002604s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000352s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000505s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000472s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000345s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000599s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000405s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000277s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000289s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000296s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000461s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000243s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:54+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.056433s][吞吐率：17.72req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002489s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000680s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001051s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000617s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:54+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.074141s][吞吐率：13.49req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002434s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000552s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000790s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000889s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000419s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000887s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000813s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000682s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000761s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000893s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000800s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000956s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000320s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:57+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039292s][吞吐率：25.45req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002650s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000521s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000699s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000429s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:57+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048540s][吞吐率：20.60req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002718s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000411s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000533s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000478s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000469s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000545s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000383s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000303s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000313s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000475s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000484s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000243s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:59+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.052885s][吞吐率：18.91req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003623s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000869s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000800s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000516s ]
---------------------------------------------------------------
[ 2018-11-11T00:27:59+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.073911s][吞吐率：13.53req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003317s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000732s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000815s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000763s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000581s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001052s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000916s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000582s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000597s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000974s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000844s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000526s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:02+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.059684s][吞吐率：16.75req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003796s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000711s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000935s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000752s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:02+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.076582s][吞吐率：13.06req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003916s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000778s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000722s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000804s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000488s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000706s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000836s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000572s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000592s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000863s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000571s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001003s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000667s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:04+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.047172s][吞吐率：21.20req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003196s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000565s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000857s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000452s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:04+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.060831s][吞吐率：16.44req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003619s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000441s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000720s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000575s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000335s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001175s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000454s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000256s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000335s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000434s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000273s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000493s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000252s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:07+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040514s][吞吐率：24.68req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002605s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000350s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000635s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000389s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:07+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049786s][吞吐率：20.09req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002581s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000585s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000666s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000510s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000515s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000413s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000270s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000290s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000475s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000310s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000497s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000243s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:09+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.054453s][吞吐率：18.36req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003869s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000613s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001023s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000749s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:09+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.077083s][吞吐率：12.97req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003947s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000592s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000984s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000808s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000617s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001012s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000991s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000458s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000650s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000787s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000732s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000829s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000514s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:12+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.054053s][吞吐率：18.50req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003956s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000479s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.001064s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:12+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.064098s][吞吐率：15.60req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004030s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001034s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001227s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000780s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000278s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000561s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000387s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000297s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000354s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000496s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000261s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000696s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000277s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:14+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.049726s][吞吐率：20.11req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002947s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000471s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000837s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000291s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:14+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.071475s][吞吐率：13.99req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002686s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000479s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000903s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000699s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000557s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001065s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000854s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000565s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000414s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000605s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000617s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001054s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000380s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:17+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.062138s][吞吐率：16.09req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004293s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000620s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000614s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000737s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:17+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.079771s][吞吐率：12.54req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003990s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000313s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000920s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000974s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000449s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000904s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000849s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000581s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000826s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000927s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000630s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001152s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000668s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:19+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.054141s][吞吐率：18.47req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004470s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000685s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000893s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000489s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:19+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.070961s][吞吐率：14.09req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003725s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000482s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000688s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000669s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000717s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001030s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000668s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000456s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000545s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000774s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000415s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000667s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000455s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:22+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.065594s][吞吐率：15.25req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003815s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000647s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000935s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000604s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:22+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.085456s][吞吐率：11.70req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003473s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000574s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000763s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000804s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000404s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000940s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000727s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000531s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000396s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000965s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000758s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001090s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000549s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:24+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.046399s][吞吐率：21.55req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004372s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000457s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000600s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000301s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:24+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.056934s][吞吐率：17.56req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003838s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000354s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000632s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000475s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000358s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000702s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000436s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000320s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000505s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000560s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000248s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:27+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.043141s][吞吐率：23.18req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003061s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000424s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000500s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000307s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:27+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.053238s][吞吐率：18.78req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003138s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000307s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000501s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000445s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000605s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000370s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000311s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000335s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000499s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000337s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000846s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000414s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:29+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040098s][吞吐率：24.94req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002666s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000510s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000708s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000350s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:29+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049003s][吞吐率：20.41req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002418s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000394s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000593s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000385s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000560s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000382s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000260s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000515s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000271s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000462s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000233s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:32+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.054823s][吞吐率：18.24req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004030s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000487s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000939s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000483s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:32+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.072588s][吞吐率：13.78req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003329s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000503s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000657s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000759s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000458s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000675s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000457s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000427s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000830s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000404s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000708s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000463s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:34+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040256s][吞吐率：24.84req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002632s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000524s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000688s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000420s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:34+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049031s][吞吐率：20.40req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002603s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000419s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000479s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000297s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000561s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000371s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000306s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000440s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000254s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000258s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:37+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041503s][吞吐率：24.09req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002985s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000525s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000726s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000411s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:37+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050173s][吞吐率：19.93req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003057s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000378s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000553s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000472s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000344s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000562s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000387s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000254s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000457s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000245s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000437s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000322s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:39+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.037090s][吞吐率：26.96req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002518s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000455s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000577s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000294s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:39+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.046797s][吞吐率：21.37req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002442s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000353s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000462s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000436s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000357s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000529s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000383s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000270s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000310s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000443s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000259s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000597s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000297s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:42+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.038675s][吞吐率：25.86req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002619s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000550s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000669s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000363s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:42+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.047460s][吞吐率：21.07req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002621s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000387s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000532s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000497s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000600s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000440s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000256s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000297s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000454s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000250s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000485s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000262s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:44+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.063073s][吞吐率：15.85req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003985s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000933s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000863s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000835s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:44+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.076890s][吞吐率：13.01req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004160s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000700s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000826s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000757s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000482s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000842s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000366s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000607s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000727s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000798s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000942s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000685s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:47+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.052326s][吞吐率：19.11req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002950s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002411s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001716s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000323s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:47+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.074541s][吞吐率：13.42req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002824s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002056s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000828s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000489s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000376s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000532s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001447s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000783s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000777s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001095s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000687s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001121s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000389s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:49+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040994s][吞吐率：24.39req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002732s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000596s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000329s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:49+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050439s][吞吐率：19.83req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002593s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000416s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000582s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000509s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000545s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000364s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000300s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000451s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000273s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000433s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000333s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:52+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.064479s][吞吐率：15.51req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004736s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000472s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000828s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000409s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:52+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.083469s][吞吐率：11.98req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004311s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000664s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000961s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000833s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000407s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000764s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001424s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000825s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000684s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000958s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000874s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000871s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000537s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:54+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.042906s][吞吐率：23.31req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002635s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000483s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000663s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000295s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:54+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.054974s][吞吐率：18.19req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002635s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000354s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000552s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000448s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000365s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001167s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001129s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000626s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000489s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000325s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000259s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:57+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041616s][吞吐率：24.03req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002761s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000476s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000649s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000395s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:57+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049583s][吞吐率：20.17req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002850s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000352s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000644s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000346s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000508s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000414s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000271s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000289s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000429s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000306s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000490s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000264s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:59+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.059257s][吞吐率：16.88req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004002s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000560s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001063s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000528s ]
---------------------------------------------------------------
[ 2018-11-11T00:28:59+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.075772s][吞吐率：13.20req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003681s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000495s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000705s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000748s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000412s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000810s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000709s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000689s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000763s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000807s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000571s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000825s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000512s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:02+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.053167s][吞吐率：18.81req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004503s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000917s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000791s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000338s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:02+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.062535s][吞吐率：15.99req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003908s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000337s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000428s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000509s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000350s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000559s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000376s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000270s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000281s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000456s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000513s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000278s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:04+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.042334s][吞吐率：23.62req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002657s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000520s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000693s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000378s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:04+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.051320s][吞吐率：19.49req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002599s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000410s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000568s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000569s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000350s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000535s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000420s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000242s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000465s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000332s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000455s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000286s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:07+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.044612s][吞吐率：22.42req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003169s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000482s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000640s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000383s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:07+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.054008s][吞吐率：18.52req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002602s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000383s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000542s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000550s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000334s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000530s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000414s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000279s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000316s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000477s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000262s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:09+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040575s][吞吐率：24.65req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002681s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000428s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000550s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000449s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:09+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049293s][吞吐率：20.29req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002664s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000349s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000485s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000452s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000614s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000360s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000259s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000289s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000442s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000268s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000414s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000221s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:12+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.051785s][吞吐率：19.31req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.006844s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000491s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000632s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000360s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:12+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.058396s][吞吐率：17.12req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004786s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000386s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000549s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000263s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000602s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000395s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000256s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000287s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000481s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000251s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000458s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000231s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:14+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041643s][吞吐率：24.01req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002632s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000554s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000726s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000368s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:14+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050741s][吞吐率：19.71req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002655s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000412s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000591s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000556s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000431s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000733s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000417s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000284s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000347s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000481s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000276s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000487s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000320s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:17+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.062628s][吞吐率：15.97req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004025s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001276s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001424s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.001588s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:17+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.079411s][吞吐率：12.59req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004354s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.002002s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001349s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.002402s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000978s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000874s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001057s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000652s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000767s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000578s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000400s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000714s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000436s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:19+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.047217s][吞吐率：21.18req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002713s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000536s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000706s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000406s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:19+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.057157s][吞吐率：17.50req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002657s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000386s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000599s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000493s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000418s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000513s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000399s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000279s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000283s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000449s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000274s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000531s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000341s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:22+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.059292s][吞吐率：16.87req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004191s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000510s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000890s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000520s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:22+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.076177s][吞吐率：13.13req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003761s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000436s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000915s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000702s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000761s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000794s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000506s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000726s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001164s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000585s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000851s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000490s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:24+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.054741s][吞吐率：18.27req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003723s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000639s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000943s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000428s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:24+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.075929s][吞吐率：13.17req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004341s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000791s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001095s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000863s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000632s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001013s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000750s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000560s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000666s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000743s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000513s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000737s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000442s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:27+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040787s][吞吐率：24.52req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002662s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000549s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000711s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000451s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:27+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049477s][吞吐率：20.21req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002621s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000490s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000506s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000462s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000351s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000609s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000388s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000270s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000306s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000441s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000306s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000478s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000264s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:29+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.063197s][吞吐率：15.82req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003385s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000837s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000803s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000527s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:29+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.083869s][吞吐率：11.92req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004060s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000533s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000860s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000724s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000372s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001027s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000713s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000516s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000352s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000983s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000444s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001003s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000609s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:32+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.056692s][吞吐率：17.64req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004164s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000718s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001150s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000528s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:32+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.078027s][吞吐率：12.82req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003833s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000483s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000637s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.001067s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000673s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000909s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000866s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000511s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000869s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001011s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000961s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001462s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000510s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:34+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.050578s][吞吐率：19.77req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003209s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000635s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000800s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000692s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:34+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.066964s][吞吐率：14.93req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003088s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000500s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000699s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000785s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000409s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000802s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000787s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000647s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000681s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001094s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000576s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001203s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000355s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:37+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.074975s][吞吐率：13.34req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004212s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000866s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001582s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.001686s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:37+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.096335s][吞吐率：10.38req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003901s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000997s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001232s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.001341s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000475s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000883s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000711s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000669s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000781s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001062s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000831s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001142s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000644s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:39+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.057196s][吞吐率：17.48req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003468s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000697s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000674s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000558s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:39+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.073811s][吞吐率：13.55req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003878s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000330s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000902s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000612s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000459s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000788s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000855s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000553s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000763s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000923s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000535s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000664s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:42+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.065268s][吞吐率：15.32req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004132s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000775s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001239s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000970s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:42+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.089102s][吞吐率：11.22req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003930s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000589s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001766s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.003110s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.001962s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.002880s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000878s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000652s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001032s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000703s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001057s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000718s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:44+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.059518s][吞吐率：16.80req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004031s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000735s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000271s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:44+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.077819s][吞吐率：12.85req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003404s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000539s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000708s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000572s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000444s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000878s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000424s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000765s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000690s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000912s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000537s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000906s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000973s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:47+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.059480s][吞吐率：16.81req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003294s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000769s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000969s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000426s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:47+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.072544s][吞吐率：13.78req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003436s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000603s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000486s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.001018s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000423s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000566s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001075s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000366s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000296s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000420s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000270s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000899s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000478s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:49+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.059507s][吞吐率：16.80req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004123s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000805s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001097s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000562s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:49+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.078447s][吞吐率：12.75req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003585s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000551s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000952s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000646s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000669s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001066s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001134s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000563s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000629s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000956s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000724s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001114s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000579s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:52+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.057870s][吞吐率：17.28req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003432s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000817s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000956s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000460s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:52+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.078170s][吞吐率：12.79req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003465s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000579s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000726s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000739s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000864s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001018s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000836s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000537s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000494s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000919s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000579s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001046s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000517s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:54+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.060128s][吞吐率：16.63req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004522s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000665s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000924s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000369s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:54+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.090846s][吞吐率：11.01req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.005535s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000953s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000949s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000855s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000555s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000947s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000609s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000366s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000774s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000461s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000710s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000313s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:57+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.049004s][吞吐率：20.41req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002335s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000515s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000726s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000409s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:57+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.069081s][吞吐率：14.48req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002959s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000513s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000692s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.001068s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000414s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000962s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000874s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000453s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000505s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000932s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000612s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000678s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000390s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:59+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.058927s][吞吐率：16.97req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004157s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000652s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000978s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000434s ]
---------------------------------------------------------------
[ 2018-11-11T00:29:59+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.078501s][吞吐率：12.74req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003987s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000740s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000784s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000866s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000541s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001166s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001392s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000725s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000409s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000433s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000275s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000428s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000246s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:02+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.068954s][吞吐率：14.50req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004698s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001031s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001642s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000668s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:02+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.093087s][吞吐率：10.74req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004513s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000969s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001020s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000966s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.001029s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001924s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001380s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000636s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.001147s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001009s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000642s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000797s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000527s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:04+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.063286s][吞吐率：15.80req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004523s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000824s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001023s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000602s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:04+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.078832s][吞吐率：12.69req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004109s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000609s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000850s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000402s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000979s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001044s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000532s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000617s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000967s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000584s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000968s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000484s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:07+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039804s][吞吐率：25.12req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002672s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000579s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000711s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000474s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:07+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048721s][吞吐率：20.52req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002638s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000395s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000674s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000567s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000394s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000377s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000301s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000471s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000251s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000448s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000228s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:09+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.065695s][吞吐率：15.22req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004504s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000937s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000962s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000458s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:09+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.084833s][吞吐率：11.79req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004654s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000443s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000656s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000760s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000644s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000795s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001101s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000839s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000628s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001006s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000692s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000861s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000736s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:12+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.064481s][吞吐率：15.51req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004546s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000678s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000430s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:12+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.082601s][吞吐率：12.11req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004941s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000871s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000903s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.001311s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000696s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001084s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001004s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000655s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000742s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000871s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000592s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000966s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000761s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:14+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.063710s][吞吐率：15.70req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003538s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000827s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000850s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000787s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:14+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.083794s][吞吐率：11.93req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004450s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000616s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000895s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000801s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000479s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001264s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000891s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000620s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000636s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000983s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000604s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001098s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000618s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:17+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.043031s][吞吐率：23.24req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002867s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000529s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000692s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000369s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:17+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.051729s][吞吐率：19.33req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002648s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000379s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000588s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000552s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000343s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000627s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000393s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000274s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000316s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000464s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000278s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000500s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000269s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:19+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.048863s][吞吐率：20.47req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002947s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000556s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000594s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000475s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:19+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.060328s][吞吐率：16.58req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003360s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000562s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000535s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000645s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000346s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000575s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000855s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000461s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000449s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000439s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000585s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000396s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:22+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.059135s][吞吐率：16.91req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003434s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000690s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000922s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000623s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:22+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.077739s][吞吐率：12.86req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003786s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000681s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001247s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000792s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000453s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001350s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000920s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000443s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000551s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000694s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000455s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000834s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000602s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:24+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.046355s][吞吐率：21.57req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003299s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000459s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000577s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000423s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:24+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.057030s][吞吐率：17.53req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002727s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000330s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000474s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000644s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000555s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000413s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000246s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000266s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000395s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000246s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000457s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000258s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:27+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040204s][吞吐率：24.87req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002635s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000443s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000649s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000381s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:27+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049810s][吞吐率：20.08req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002598s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000378s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000533s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000283s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000530s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000436s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000372s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000417s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000257s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000476s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000272s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:29+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.046421s][吞吐率：21.54req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003074s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000566s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000696s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000349s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:29+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.064048s][吞吐率：15.61req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003317s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000422s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000589s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000630s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000332s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001410s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000455s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000662s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.001029s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000941s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000592s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000493s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:32+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.048195s][吞吐率：20.75req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003384s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000559s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000820s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000561s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:32+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.063107s][吞吐率：15.85req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003076s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000668s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000724s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000662s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000488s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000813s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000652s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000461s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000513s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000426s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000560s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000234s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:34+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.046470s][吞吐率：21.52req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003601s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000485s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000832s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000463s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:34+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.063221s][吞吐率：15.82req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003860s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000433s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000688s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000694s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000442s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000672s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001001s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000581s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000706s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000719s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000572s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000633s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000565s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:37+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039487s][吞吐率：25.32req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002636s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000516s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000685s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000382s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:37+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048186s][吞吐率：20.75req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002600s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000327s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000470s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000522s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000341s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000560s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000376s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000283s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000299s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000434s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000250s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000448s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000204s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:39+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041875s][吞吐率：23.88req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002640s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000662s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001093s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000538s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:39+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.059694s][吞吐率：16.75req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002584s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000632s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001066s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000753s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000380s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001012s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000914s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000618s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000812s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000881s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000838s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000702s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000488s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:42+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.061656s][吞吐率：16.22req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004023s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000753s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000905s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000608s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:42+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.078893s][吞吐率：12.68req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004129s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000585s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000844s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.001055s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000534s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000725s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000686s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000684s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000556s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001122s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000604s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000976s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000597s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:44+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.066697s][吞吐率：14.99req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.006507s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000980s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000804s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000443s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:44+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.092170s][吞吐率：10.85req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.006589s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000555s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000674s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000581s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000699s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000979s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000772s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.002175s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.001330s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001296s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000685s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001810s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000566s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:47+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.043385s][吞吐率：23.05req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003013s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000357s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000544s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000439s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:47+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.051658s][吞吐率：19.36req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002681s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000528s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000624s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000556s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000404s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000572s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000426s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000278s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000413s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000482s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000263s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000551s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000280s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:49+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.060807s][吞吐率：16.45req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004054s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000884s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001397s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000679s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:49+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.073392s][吞吐率：13.63req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003738s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000956s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001252s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000970s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000530s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000396s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000840s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000871s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001060s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000631s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000823s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000278s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:52+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.051906s][吞吐率：19.27req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003604s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000722s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000769s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000501s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:52+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.070210s][吞吐率：14.24req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003623s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000544s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000626s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000671s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000353s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000928s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000708s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000602s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000701s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000641s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.001444s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000590s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000291s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:54+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.038933s][吞吐率：25.69req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002640s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000465s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000678s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000311s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:54+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048502s][吞吐率：20.62req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002596s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000330s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000497s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000536s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000565s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000478s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000318s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000294s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000308s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000481s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000255s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:57+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.043223s][吞吐率：23.14req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002798s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000513s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000699s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000358s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:57+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049058s][吞吐率：20.38req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002602s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000368s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000565s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000366s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000700s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000399s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000319s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000277s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000514s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000275s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000457s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000258s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:59+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.060498s][吞吐率：16.53req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004106s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000487s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000679s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000347s ]
---------------------------------------------------------------
[ 2018-11-11T00:30:59+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.071657s][吞吐率：13.96req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004206s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000343s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000576s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000532s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000333s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000532s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000727s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000310s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000302s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000508s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000436s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000553s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:02+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.064612s][吞吐率：15.48req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004370s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000470s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000936s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000371s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:02+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.080898s][吞吐率：12.36req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004334s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000594s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000565s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000832s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000502s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001025s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000694s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000688s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000761s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000991s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000702s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000739s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:04+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.061028s][吞吐率：16.39req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.005867s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000570s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000968s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000457s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:04+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.078348s][吞吐率：12.76req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003927s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000520s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000726s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000958s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000561s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001173s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000820s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000335s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000759s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000845s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000609s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000958s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000599s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:07+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040185s][吞吐率：24.88req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002701s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000473s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000626s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000359s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:07+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.047897s][吞吐率：20.88req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002618s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000418s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000551s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000670s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000514s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000321s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000331s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000278s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000472s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000244s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:09+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.047797s][吞吐率：20.92req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004650s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000531s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000627s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000301s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:09+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.062594s][吞吐率：15.98req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.005059s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000324s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000496s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000610s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000415s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000561s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000415s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000312s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000563s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000484s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000285s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000868s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000310s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:12+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.058759s][吞吐率：17.02req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002967s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000882s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001110s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000671s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:12+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.075087s][吞吐率：13.32req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003217s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000608s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000865s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000571s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000680s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000747s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000697s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000713s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000691s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000966s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000658s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000830s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000614s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:14+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.050152s][吞吐率：19.94req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004124s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000407s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000542s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000314s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:14+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.065929s][吞吐率：15.17req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003997s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000486s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000557s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000578s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000917s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000736s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001105s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000318s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000819s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000314s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000497s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000294s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:17+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.042196s][吞吐率：23.70req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002579s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000802s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000694s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000319s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:17+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.052950s][吞吐率：18.89req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002676s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000393s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000499s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000733s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000384s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000296s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000482s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000601s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000322s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000826s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000547s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:19+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039495s][吞吐率：25.32req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002632s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000466s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000657s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000344s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:19+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049670s][吞吐率：20.13req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002591s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000355s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000567s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000551s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000388s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000525s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000388s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000288s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000354s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000289s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000700s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000324s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:22+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040149s][吞吐率：24.91req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002632s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000577s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000709s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000371s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:22+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049369s][吞吐率：20.26req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002590s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000394s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000481s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000488s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000618s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000409s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000290s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000468s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000248s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000462s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000265s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:24+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.043771s][吞吐率：22.85req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002688s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000491s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000652s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000348s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:24+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.051592s][吞吐率：19.38req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002598s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000377s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000534s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000440s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000376s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000581s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000422s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000255s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000285s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000500s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000265s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000451s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000227s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:27+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.044927s][吞吐率：22.26req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002879s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001011s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.001078s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000313s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:27+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.058205s][吞吐率：17.18req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002793s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000445s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000613s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000545s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000634s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000622s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000462s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000635s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000703s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000571s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000992s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000586s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:29+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.050077s][吞吐率：19.97req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003674s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000466s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000757s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000457s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:29+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.062084s][吞吐率：16.11req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003160s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000631s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000829s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.001074s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000553s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000664s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000875s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000684s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000610s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000467s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000548s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000468s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:32+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040662s][吞吐率：24.59req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002687s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000558s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000684s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000393s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:32+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049295s][吞吐率：20.29req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002608s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000413s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000568s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000640s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000365s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000270s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000427s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000240s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000424s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000310s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:34+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041768s][吞吐率：23.94req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002443s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000802s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000972s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000342s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:34+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.055008s][吞吐率：18.18req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002672s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000476s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000561s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000759s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000396s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000593s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000413s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000344s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000412s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000604s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000340s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000550s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000390s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:37+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.059655s][吞吐率：16.76req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003488s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001686s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000887s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000644s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:37+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.080879s][吞吐率：12.36req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003511s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001977s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001967s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000754s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.001061s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000743s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001425s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000585s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000638s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.002031s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000682s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000956s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000733s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:39+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040256s][吞吐率：24.84req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002636s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000642s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000457s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:39+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049574s][吞吐率：20.17req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002586s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000401s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000531s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000573s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000308s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000545s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000422s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000259s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000368s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000516s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000287s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000511s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000268s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:42+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040960s][吞吐率：24.41req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002611s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000445s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000615s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000317s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:42+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.051076s][吞吐率：19.58req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002598s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000332s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000426s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000464s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000349s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000558s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000407s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000296s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000340s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000502s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000265s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000477s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000251s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:44+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.048394s][吞吐率：20.66req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.006611s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000418s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000564s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000474s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:44+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.062262s][吞吐率：16.06req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.006675s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000496s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000548s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000753s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000682s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000929s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000699s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000403s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000478s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000332s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000406s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000333s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:47+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039583s][吞吐率：25.26req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002754s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000573s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000696s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000478s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:47+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049488s][吞吐率：20.21req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002848s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000383s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000552s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000573s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000366s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000615s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000391s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000277s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000363s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000443s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000302s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000475s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000270s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:49+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.053314s][吞吐率：18.76req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003354s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000518s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000583s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000321s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:49+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.063073s][吞吐率：15.85req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003601s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000336s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000466s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000479s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000308s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000590s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000376s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000255s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000334s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000445s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000261s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000408s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000270s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:52+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.038849s][吞吐率：25.74req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002650s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000514s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000583s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000370s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:52+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.047752s][吞吐率：20.94req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002615s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000408s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000431s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000474s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000393s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000578s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000429s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000285s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000353s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000469s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000245s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000485s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000258s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:54+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039779s][吞吐率：25.14req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002632s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000465s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000667s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000419s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:54+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049346s][吞吐率：20.27req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002595s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000358s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000568s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000325s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000509s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000420s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000329s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000354s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000492s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000337s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:57+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040670s][吞吐率：24.59req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002627s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000500s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000706s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000381s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:57+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048962s][吞吐率：20.42req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002612s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000385s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000578s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000426s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000281s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000564s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000371s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000279s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000471s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000295s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000439s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000229s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:59+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.043868s][吞吐率：22.80req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003121s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000472s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000629s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000432s ]
---------------------------------------------------------------
[ 2018-11-11T00:31:59+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.056701s][吞吐率：17.64req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003444s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000420s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000493s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000612s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000449s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000740s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000613s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000433s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000427s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000476s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000348s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000540s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000448s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:02+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041469s][吞吐率：24.11req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002645s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000539s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000635s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000384s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:02+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.051128s][吞吐率：19.56req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002614s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000413s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000572s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000563s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000352s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000639s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000419s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000288s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000405s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000254s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000433s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000243s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:04+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039871s][吞吐率：25.08req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002396s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000590s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000679s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000318s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:04+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049118s][吞吐率：20.36req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002296s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000389s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000531s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000297s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000581s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000473s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000274s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000308s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000502s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000276s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000466s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000247s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:07+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039799s][吞吐率：25.13req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002630s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000532s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000695s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000352s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:07+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048563s][吞吐率：20.59req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002588s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000374s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000533s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000501s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000625s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000408s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000292s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000449s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000255s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000268s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:09+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.059057s][吞吐率：16.93req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004197s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000720s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000971s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000554s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:09+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.073580s][吞吐率：13.59req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003718s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000790s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000790s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.001033s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000480s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000726s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000865s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000633s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000717s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000968s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000669s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000479s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000280s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:12+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041437s][吞吐率：24.13req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002869s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000575s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000620s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000334s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:12+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050354s][吞吐率：19.86req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002827s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000521s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000624s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000551s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000557s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000547s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000382s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000341s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000256s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000465s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000275s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:14+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.059150s][吞吐率：16.91req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003927s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000915s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000864s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000434s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:14+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.078852s][吞吐率：12.68req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003847s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000477s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001238s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000880s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000544s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001330s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000566s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000569s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000727s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000765s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000685s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.001075s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000260s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:17+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.056580s][吞吐率：17.67req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003738s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000527s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000916s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000414s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:17+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.073177s][吞吐率：13.67req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003562s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000569s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000994s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000693s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000433s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000991s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000998s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000710s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000685s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000775s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000583s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000924s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000686s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:19+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041968s][吞吐率：23.83req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002556s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000357s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000625s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000316s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:19+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049986s][吞吐率：20.01req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002510s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000434s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000685s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000481s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000552s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000387s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000309s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000324s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000469s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000259s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000451s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000284s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:22+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041185s][吞吐率：24.28req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002805s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000570s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000694s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000385s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:22+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050869s][吞吐率：19.66req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002664s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000373s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000564s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000329s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000511s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000423s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000308s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000479s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000339s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000493s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000305s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:24+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.058737s][吞吐率：17.03req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004087s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000576s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000692s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000520s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:24+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.075641s][吞吐率：13.22req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004176s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000599s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000587s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000848s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000483s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000870s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000960s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000506s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000822s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001174s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000715s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000645s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000471s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:27+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039361s][吞吐率：25.41req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002614s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000467s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000667s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000341s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:27+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.047906s][吞吐率：20.87req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002610s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000321s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000446s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000538s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000446s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000280s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000320s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000454s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000238s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000265s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:29+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.038780s][吞吐率：25.79req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002639s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000420s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000423s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:29+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049978s][吞吐率：20.01req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002618s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000352s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000444s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000399s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000297s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000653s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000526s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000292s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000310s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000822s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000479s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000831s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000507s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:32+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.050486s][吞吐率：19.81req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003316s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000381s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000784s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000388s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:32+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.062311s][吞吐率：16.05req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003220s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000784s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000783s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000549s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000310s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000478s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000609s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000532s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000599s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000397s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000846s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000423s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:34+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040321s][吞吐率：24.80req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002650s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000521s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000797s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000392s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:34+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049763s][吞吐率：20.10req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002633s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000483s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000552s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000623s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000331s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000531s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000493s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000278s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000340s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000461s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000281s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000255s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:37+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.046417s][吞吐率：21.54req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002829s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000572s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000814s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000486s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:37+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.058257s][吞吐率：17.17req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002760s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000516s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000646s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000605s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000425s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000511s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000527s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000297s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000336s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000624s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000625s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000366s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:39+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039756s][吞吐率：25.15req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002588s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000474s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000596s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000445s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:39+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.052109s][吞吐率：19.19req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002669s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000401s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000570s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000549s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000383s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000584s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000439s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000395s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000408s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000599s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000343s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000564s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000385s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:42+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.051505s][吞吐率：19.42req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003207s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000549s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000931s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000626s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:42+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.066210s][吞吐率：15.10req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003660s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000481s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.001019s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000993s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000634s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000622s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000545s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000390s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000447s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000596s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000287s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000606s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000395s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:44+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.048923s][吞吐率：20.44req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004027s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000478s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000593s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000319s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:44+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.067825s][吞吐率：14.74req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004114s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000490s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000625s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000474s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000379s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000535s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000679s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000912s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000661s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001201s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000758s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000859s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000733s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:47+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.062962s][吞吐率：15.88req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004521s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000765s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000792s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000577s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:47+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.078018s][吞吐率：12.82req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004275s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000393s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000696s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000699s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000363s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000835s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.001173s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000784s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000431s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000922s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000308s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000589s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000541s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:49+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.058945s][吞吐率：16.96req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.005054s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000683s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000907s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000585s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:49+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.080353s][吞吐率：12.45req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004521s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000516s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000784s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000978s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000718s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.001368s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000785s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000603s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000985s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000752s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000915s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000639s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:52+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.043399s][吞吐率：23.04req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003072s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000422s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000824s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000471s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:52+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.054703s][吞吐率：18.28req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002980s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000429s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000817s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000679s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000296s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000637s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000699s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000433s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000398s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000633s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000449s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000746s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000497s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:54+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040605s][吞吐率：24.63req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002654s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000421s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000588s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000303s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:54+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049116s][吞吐率：20.36req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002624s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000298s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000478s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000660s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000370s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000273s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000290s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000443s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000330s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000472s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000277s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:57+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.042097s][吞吐率：23.75req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002695s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000580s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000756s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000388s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:57+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.051545s][吞吐率：19.40req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002618s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000428s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000502s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000484s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000347s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000586s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000431s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000324s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000349s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000477s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000407s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000499s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000342s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:59+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041851s][吞吐率：23.89req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003485s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000478s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000555s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000328s ]
---------------------------------------------------------------
[ 2018-11-11T00:32:59+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.052199s][吞吐率：19.16req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003376s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000354s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000448s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000245s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000539s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000409s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000249s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000301s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000389s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000292s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000270s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:02+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040567s][吞吐率：24.65req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002757s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000493s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000638s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000377s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:02+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.053873s][吞吐率：18.56req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002890s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000376s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000567s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000334s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000507s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000374s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000306s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000315s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000423s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000251s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000560s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000402s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:04+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039584s][吞吐率：25.26req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002643s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000520s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000687s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000371s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:04+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048874s][吞吐率：20.46req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002593s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000411s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000458s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000361s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000581s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000434s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000307s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000400s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000481s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000281s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000473s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000330s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:07+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041469s][吞吐率：24.11req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002705s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000561s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000621s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000415s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:07+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050342s][吞吐率：19.86req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002696s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000371s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000452s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000415s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000571s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000397s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000306s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000301s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000574s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000264s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000485s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000262s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:09+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040753s][吞吐率：24.54req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002745s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000552s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000721s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000373s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:09+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049380s][吞吐率：20.25req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002724s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000390s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000489s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000429s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000283s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000520s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000434s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000278s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000526s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000306s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000478s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000282s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:12+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040812s][吞吐率：24.50req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002642s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000581s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000693s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000369s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:12+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049571s][吞吐率：20.17req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002602s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000450s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000463s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000387s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000601s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000406s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000270s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000390s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000477s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000275s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000482s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000239s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:14+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.043786s][吞吐率：22.84req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002736s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000570s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000613s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000318s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:14+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.054882s][吞吐率：18.22req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002394s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000540s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000723s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000391s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000548s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000373s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000262s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000294s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000265s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000460s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000262s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:17+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.038266s][吞吐率：26.13req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002398s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000458s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000598s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000353s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:17+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049208s][吞吐率：20.32req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002535s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000413s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000574s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000283s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000523s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000428s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000309s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000561s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000487s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000246s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:19+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.037878s][吞吐率：26.40req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002382s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000579s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000751s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000431s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:19+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050799s][吞吐率：19.69req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002264s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000516s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000532s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000716s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000747s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000395s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000300s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000308s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000379s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000709s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000240s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:22+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.038064s][吞吐率：26.27req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002797s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000476s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000349s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:22+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.047183s][吞吐率：21.19req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002682s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000398s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000472s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000404s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000603s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000427s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000302s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000308s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000433s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000331s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000526s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000232s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:24+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.038170s][吞吐率：26.20req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002586s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000432s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000279s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:24+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050158s][吞吐率：19.94req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003008s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000414s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000461s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000460s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000556s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000361s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000261s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000292s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000447s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000443s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000273s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:27+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.035836s][吞吐率：27.90req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002411s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000641s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000809s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000637s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:27+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.042182s][吞吐率：23.71req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002188s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000562s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000643s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000605s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000424s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000577s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000447s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000260s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000276s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000413s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000249s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000450s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000232s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:29+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039085s][吞吐率：25.59req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002537s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000566s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000658s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000396s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:29+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048085s][吞吐率：20.80req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002678s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000383s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000637s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000623s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000339s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000605s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000370s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000266s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000306s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000461s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000285s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000470s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000323s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:32+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041777s][吞吐率：23.94req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002622s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000509s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000631s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000368s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:32+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050104s][吞吐率：19.96req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002600s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000331s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000490s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000457s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000281s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000543s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000398s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000279s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000343s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000501s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000258s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000485s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000263s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:34+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.043028s][吞吐率：23.24req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003246s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000495s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000610s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000381s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:34+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.052861s][吞吐率：18.92req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003437s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000413s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000480s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000590s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000598s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000340s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000270s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000277s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000438s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000262s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000452s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000333s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:37+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039920s][吞吐率：25.05req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002772s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000506s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000696s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000385s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:37+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049604s][吞吐率：20.16req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002742s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000426s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000585s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000316s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000600s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000395s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000307s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000332s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000484s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000259s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000484s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000364s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:39+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.036739s][吞吐率：27.22req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002207s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000476s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000643s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000404s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:39+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.046272s][吞吐率：21.61req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002169s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000449s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000504s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000552s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000345s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000541s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000439s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000290s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000350s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000473s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000254s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000463s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000261s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:42+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040066s][吞吐率：24.96req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002636s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000502s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000688s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000333s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:42+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048938s][吞吐率：20.43req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002589s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000410s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000364s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000493s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000420s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000285s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000309s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000477s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000301s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000471s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000260s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:44+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.037337s][吞吐率：26.78req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002541s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000453s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000577s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000265s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:44+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.046503s][吞吐率：21.50req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002408s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000322s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000461s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000454s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000288s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000569s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000385s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000313s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000286s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000293s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000540s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000334s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:47+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039841s][吞吐率：25.10req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002626s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000501s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000741s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000418s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:47+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048762s][吞吐率：20.51req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002603s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000285s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000506s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000485s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000264s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000572s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000380s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000275s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000466s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000330s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000515s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000345s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:49+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.049177s][吞吐率：20.33req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002864s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000752s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000690s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000343s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:49+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.057187s][吞吐率：17.49req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003520s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000945s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000682s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000459s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000284s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000490s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000389s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000257s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000353s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000466s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000291s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000600s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000295s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:52+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040763s][吞吐率：24.53req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002635s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000487s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000671s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000345s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:52+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.051246s][吞吐率：19.51req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002640s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000357s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000569s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000538s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000322s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000520s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000379s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000299s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000313s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000489s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000253s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000333s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:54+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040467s][吞吐率：24.71req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002638s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000486s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000658s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000336s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:54+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048988s][吞吐率：20.41req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002588s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000322s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000554s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000462s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000268s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000591s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000410s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000274s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000497s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000501s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000236s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:57+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039235s][吞吐率：25.49req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002604s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000460s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000620s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000364s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:57+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049469s][吞吐率：20.21req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002696s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000397s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000491s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000454s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000277s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000515s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000383s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000226s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000327s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000430s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000233s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000392s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000202s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:59+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041367s][吞吐率：24.17req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002645s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000507s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000494s ]
---------------------------------------------------------------
[ 2018-11-11T00:33:59+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049801s][吞吐率：20.08req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002590s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000367s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000588s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000452s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000331s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000493s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000248s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000429s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000258s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:02+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039519s][吞吐率：25.30req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002645s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000523s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000690s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000394s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:02+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050086s][吞吐率：19.97req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002699s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000417s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000371s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000518s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000360s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000276s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000299s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000495s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000294s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000476s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000258s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:04+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040837s][吞吐率：24.49req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002795s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000526s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000733s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000467s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:04+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049045s][吞吐率：20.39req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002591s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000384s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000606s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000514s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000405s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000272s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000475s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000255s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000478s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000268s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:07+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039809s][吞吐率：25.12req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002617s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000474s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000657s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000392s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:07+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048524s][吞吐率：20.61req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002598s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000585s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000579s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000477s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000311s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000537s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000450s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000254s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000284s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000495s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000281s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000475s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000267s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:09+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040478s][吞吐率：24.70req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002706s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000476s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000645s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000381s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:09+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049335s][吞吐率：20.27req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002516s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000372s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000540s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000358s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000639s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000398s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000280s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000297s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000485s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000330s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000479s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000269s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:12+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039976s][吞吐率：25.02req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002653s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000496s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000594s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000359s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:12+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.058519s][吞吐率：17.09req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.004133s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000584s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000600s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000435s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000278s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000589s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000474s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000264s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000282s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000506s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000378s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000501s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000269s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:14+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041379s][吞吐率：24.17req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002642s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000537s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000701s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000372s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:14+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050367s][吞吐率：19.85req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002635s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000388s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000548s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000588s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000275s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000569s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000391s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000320s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000318s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000506s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000254s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000447s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000326s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:17+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040367s][吞吐率：24.77req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002628s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000523s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000695s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000463s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:17+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050199s][吞吐率：19.92req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002603s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000341s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000554s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000595s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000358s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000553s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000408s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000298s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000347s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000316s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000551s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000301s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:19+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039681s][吞吐率：25.20req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002620s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000456s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000620s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000330s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:19+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.047972s][吞吐率：20.85req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002608s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000417s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000558s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000498s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000328s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000598s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000393s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000275s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000318s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000516s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000296s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000486s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000260s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:22+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.038250s][吞吐率：26.14req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002617s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000434s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000545s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000379s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:22+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.046948s][吞吐率：21.30req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002625s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000405s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000489s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000405s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000612s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000425s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000272s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000442s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000276s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000474s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000390s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:24+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040430s][吞吐率：24.73req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002634s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000530s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000426s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:24+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049794s][吞吐率：20.08req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002632s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000405s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000558s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000575s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000306s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000702s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000409s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000308s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000349s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000509s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000293s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000484s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000260s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:27+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.038897s][吞吐率：25.71req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002647s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000474s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000642s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000349s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:27+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048289s][吞吐率：20.71req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002637s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000294s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000438s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000375s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000346s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000642s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000408s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000344s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000324s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000470s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000267s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000558s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000247s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:29+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040740s][吞吐率：24.55req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003014s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000553s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000678s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000428s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:29+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.051040s][吞吐率：19.59req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002820s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000376s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000601s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000464s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000308s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000507s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000375s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000308s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000385s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000435s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000270s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000455s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000269s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:32+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041519s][吞吐率：24.09req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002668s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000363s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000414s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000342s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:32+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049300s][吞吐率：20.28req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002728s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000455s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000542s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000398s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000258s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000472s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000471s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000328s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000358s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000545s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000319s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000467s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000287s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:34+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039451s][吞吐率：25.35req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002622s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000512s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000692s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000360s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:34+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048634s][吞吐率：20.56req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002590s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000435s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000471s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000497s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000298s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000530s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000431s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000281s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000319s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000536s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000259s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000487s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000256s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:37+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039779s][吞吐率：25.14req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002619s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000514s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000699s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000409s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:37+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048729s][吞吐率：20.52req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002609s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000391s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000533s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000467s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000389s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000567s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000392s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000330s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000324s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000469s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000272s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000440s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000239s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:39+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039668s][吞吐率：25.21req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002657s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000512s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000686s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000376s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:39+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048489s][吞吐率：20.62req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002688s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000391s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000554s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000597s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000315s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000606s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000366s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000290s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000295s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000531s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000267s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000470s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000237s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:42+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.036570s][吞吐率：27.34req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002495s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000525s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000289s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:42+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.047727s][吞吐率：20.95req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002382s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000418s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000443s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000524s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000339s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000488s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000461s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000346s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000306s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000469s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000252s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000499s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000232s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:44+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041847s][吞吐率：23.90req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002657s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000529s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000769s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000367s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:44+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049031s][吞吐率：20.40req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002598s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000355s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000582s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000475s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000310s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000591s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000447s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000336s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000359s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000487s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000555s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000271s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:47+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040286s][吞吐率：24.82req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002641s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000568s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000679s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000327s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:47+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048730s][吞吐率：20.52req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002580s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000404s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000510s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000454s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000288s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000653s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000415s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000282s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000318s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000464s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000253s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000476s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000279s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:49+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.038325s][吞吐率：26.09req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002688s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000486s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000639s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000388s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:49+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049181s][吞吐率：20.33req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002801s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000400s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000555s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000597s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000399s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000484s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000377s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000284s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000313s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000418s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000283s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000554s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000267s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:52+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041195s][吞吐率：24.27req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002943s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000548s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000652s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000368s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:52+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050350s][吞吐率：19.86req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003319s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000327s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000449s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000450s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000269s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000558s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000465s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000272s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000306s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000282s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:54+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041108s][吞吐率：24.33req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002643s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000557s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000694s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000418s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:54+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049657s][吞吐率：20.14req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002584s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000415s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000479s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000457s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000346s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000569s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000359s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000266s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000441s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000245s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:57+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.042093s][吞吐率：23.76req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002679s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000498s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000711s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000403s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:57+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050342s][吞吐率：19.86req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002602s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000629s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000614s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000560s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000329s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000579s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000422s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000279s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000334s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000470s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000443s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000233s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:59+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.038671s][吞吐率：25.86req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002629s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000513s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000727s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000421s ]
---------------------------------------------------------------
[ 2018-11-11T00:34:59+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049730s][吞吐率：20.11req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002605s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000385s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000570s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000462s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000349s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000629s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000410s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000237s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000413s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000228s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000422s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000246s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:02+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040728s][吞吐率：24.55req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002805s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000555s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000690s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000392s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:02+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049187s][吞吐率：20.33req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002658s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000378s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000491s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000453s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000302s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000538s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000403s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000259s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000468s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000254s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000478s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000272s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:04+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039639s][吞吐率：25.23req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002859s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000524s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000707s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000365s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:04+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048846s][吞吐率：20.47req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002857s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000406s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000583s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000598s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000330s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000575s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000347s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000297s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000339s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000462s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000270s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000498s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000261s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:07+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040433s][吞吐率：24.73req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002690s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000543s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000713s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000414s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:07+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049053s][吞吐率：20.39req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002634s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000376s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000571s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000496s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000271s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000575s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000458s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000266s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000285s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000497s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000281s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000481s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000262s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:09+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040019s][吞吐率：24.99req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002558s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000521s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000701s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000326s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:09+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049032s][吞吐率：20.39req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002362s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000345s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000575s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000456s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000378s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000621s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000366s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000272s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000288s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000481s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000252s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000662s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000288s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:12+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.043762s][吞吐率：22.85req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002823s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000721s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000616s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000321s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:12+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.052491s][吞吐率：19.05req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002617s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000451s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000588s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000571s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000809s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000628s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000328s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000396s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000475s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000283s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000479s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000266s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:14+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.038665s][吞吐率：25.86req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002782s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000438s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000307s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:14+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049061s][吞吐率：20.38req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002625s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000553s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000780s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000301s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000608s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000398s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000305s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000320s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000277s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:17+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039401s][吞吐率：25.38req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002632s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000472s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000628s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000363s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:17+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048898s][吞吐率：20.45req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002633s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000562s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000504s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000610s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000421s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000354s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000356s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000540s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000317s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000501s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000296s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:19+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039966s][吞吐率：25.02req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002354s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000457s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000617s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000378s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:19+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.051031s][吞吐率：19.60req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002596s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000348s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000475s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000498s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000267s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000501s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000436s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000427s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000309s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000530s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000375s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000488s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000236s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:22+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039121s][吞吐率：25.56req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002729s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000410s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000499s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000357s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:22+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.052776s][吞吐率：18.95req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002745s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000422s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000582s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000512s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000622s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000415s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000398s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000412s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.001197s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000614s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000966s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000342s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:24+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041252s][吞吐率：24.24req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002678s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000528s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000613s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000359s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:24+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049840s][吞吐率：20.06req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002693s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000364s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000359s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000495s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000396s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000274s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000311s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000508s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000287s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000531s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000268s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:27+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039759s][吞吐率：25.15req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002673s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000502s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000697s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000395s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:27+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048464s][吞吐率：20.63req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002626s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000401s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000511s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000541s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000576s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000430s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000288s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000290s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000472s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000308s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000478s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000270s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:29+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.038768s][吞吐率：25.79req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002635s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000505s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000686s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000338s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:29+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048277s][吞吐率：20.71req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002597s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000378s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000608s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000484s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000315s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000592s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000468s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000305s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000341s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000503s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000280s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000481s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000260s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:32+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.037727s][吞吐率：26.51req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002676s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000577s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000694s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000402s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:32+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048436s][吞吐率：20.65req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.003097s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000429s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000589s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000444s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000390s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000487s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000374s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000322s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000301s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000429s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000250s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000434s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000261s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:34+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041157s][吞吐率：24.30req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002619s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000509s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000706s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000331s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:34+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049365s][吞吐率：20.26req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002606s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000388s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000570s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000500s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000370s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000593s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000343s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000259s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000280s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000448s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000272s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000483s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000260s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:37+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039693s][吞吐率：25.19req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002883s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000514s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000689s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000385s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:37+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.048896s][吞吐率：20.45req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002705s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000412s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000441s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000459s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000617s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000426s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000287s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000306s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000470s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000335s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000447s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000313s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:39+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039485s][吞吐率：25.33req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002681s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000538s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000706s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000420s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:39+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.050756s][吞吐率：19.70req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002702s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000478s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000504s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000544s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000322s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000571s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000422s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000280s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000355s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000479s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000253s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000514s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000255s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:42+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039749s][吞吐率：25.16req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002672s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000513s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000758s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000449s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:42+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049003s][吞吐率：20.41req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002610s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000424s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000536s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000510s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000362s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000589s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000450s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000284s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000315s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000485s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000266s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000460s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000259s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:44+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.041007s][吞吐率：24.39req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002612s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000516s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000579s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000460s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:44+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049041s][吞吐率：20.39req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002616s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000387s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000513s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000429s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000315s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000552s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000371s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000275s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000264s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000493s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000264s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000479s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000224s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:47+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.040650s][吞吐率：24.60req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002835s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000493s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000698s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000326s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:47+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049325s][吞吐率：20.27req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002623s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000399s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000751s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000500s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000374s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000554s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000479s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000282s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000474s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000482s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000292s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:49+08:00 ] ::1 ::1 POST /api/keygame/getDropRule
[ info ] localhost/api/keygame/getDropRule [运行时间：0.039866s][吞吐率：25.08req/s] [内存消耗：3,388.98kb] [文件加载：59]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002434s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getDropRule',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/x-www-form-urlencoded',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '49',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
  'token' => '94c321d67ff61058bebbab898355231a',
  'game_id' => '40',
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getDropRule[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000556s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_airdrop` [ RunTime:0.000692s ]
[ sql ] [ SQL ] SELECT * FROM `tp_fomo_airdrop` ORDER BY min asc LIMIT 1 [ RunTime:0.000384s ]
---------------------------------------------------------------
[ 2018-11-11T00:35:49+08:00 ] ::1 ::1 POST /api/keygame/getGame
[ info ] localhost/api/keygame/getGame [运行时间：0.049217s][吞吐率：20.32req/s] [内存消耗：3,683.80kb] [文件加载：67]
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run web\common\behavior\Init @app_init [ RunTime:0.002254s ]
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/thinkphp/lang/zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'keygame',
    2 => 'getGame',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'Hm_lvt_92855a84986cbc7841feb6f37f52a0e6=1540117944; PHPSESSID=58a7b895642c6e63f60bcda8d218e269',
  'accept-language' => 'zh-CN,zh;q=0.9,ja;q=0.8,en;q=0.7',
  'accept-encoding' => 'gzip, deflate, br',
  'referer' => 'http://localhost/app/',
  'content-type' => 'application/json;charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
  'origin' => 'http://localhost',
  'accept' => 'application/json, text/plain, */*',
  'content-length' => '2',
  'connection' => 'keep-alive',
  'host' => 'localhost',
)
[ info ] [ PARAM ] array (
)
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT Redis
[ info ] [ CACHE ] INIT File
[ info ] [ LANG ] /Users/shilinqing/GitHub/lucky/public/../web/common/lang/zh-cn.php
[ info ] [ RUN ] web\api\controller\Keygame->getGame[ /Users/shilinqing/GitHub/lucky/web/api/controller/Keygame.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000468s ] mysql:dbname=f4d;host=127.0.0.1;port=3307;charset=utf8
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=1 and a.coin_id=b.id) as tab limit 0,1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] select id,status,rule_id,coin_id,coin_name,winner_rate,team_rate,fund_rate,drop_total_amount,total_buy_seconds,total_amount,pool_total_amount,release_total_amount,start_time,end_game_time from (select a.* ,b.coin_name from tp_fomo_game a ,tp_coins b where a.status=2 and a.coin_id=b.id order by end_game_time desc) as tab limit 0,1 [ RunTime:0.000418s ]
[ sql ] [ SQL ] select a.amount, b.username from tp_fomo_reward_record a , tp_member_account b where a.user_id=b.id and a.type=2 and a.game_id=40 [ RunTime:0.000339s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_game` [ RunTime:0.000546s ]
[ sql ] [ SQL ] UPDATE `tp_fomo_game`  SET `status`=2,`rule_id`=1,`coin_id`=1,`winner_rate`=48,`team_rate`=50,`fund_rate`=2,`drop_total_amount`=927.67,`total_buy_seconds`=96540,`total_amount`=92767,`pool_total_amount`=41745.15,`release_total_amount`=51021.85,`start_time`=1541834253,`end_game_time`=1541842971  WHERE  `id` = 40 [ RunTime:0.000419s ]
[ sql ] [ SQL ] select sum(key_num) c from tp_fomo_key_record where 1=1  and (game_id = 40) [ RunTime:0.000324s ]
[ sql ] [ SQL ] select id,name,detail,pic,select_pic,total_amount from (select a.*,b.total_amount from tp_fomo_team a,tp_fomo_team_total b where a.id=b.team_id and b.game_id=40) as tab [ RunTime:0.000327s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_fomo_key_price` [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT `id`,`key_amount`,`drop_process`,`total_drop_count` FROM `tp_fomo_key_price` WHERE  `game_id` = 40 LIMIT 1 [ RunTime:0.000306s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tp_market` [ RunTime:0.000492s ]
[ sql ] [ SQL ] SELECT `cny` FROM `tp_market` WHERE  `coin_id` = 1 LIMIT 1 [ RunTime:0.000282s ]
